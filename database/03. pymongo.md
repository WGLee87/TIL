###### pymongo
    - pythonì—ì„œ mongodb ì‘ì—…ì„ ìœ„í•œ ë„êµ¬
    - pip install pymongo ==2.8.1


```python
import pymongo
import pandas as pd
import requests
```


```python
import zigbang as zb
```


```python
# ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ ì—°ê²°
client = pymongo.MongoClient('mongodb://54.180.4.238:27017/')
client
```




    MongoClient('54.180.4.238', 27017)




```python
# ë°ì´í„°ë² ì´ìŠ¤ì™€ ì»¬ë ‰ì…˜ ìƒì„±
zigbang = client.crawling.zigbang
zigbang
```




    Collection(Database(MongoClient('54.180.4.238', 27017), 'crawling'), 'zigbang')




```python
!cat zigbang.py
```


```python
items = zb.oneroom('ë´‰ë‹´ì')
len(items)
```




    19




```python
ids = zigbang.insert(items)
len(ids)
```




    19



* ë°ì´í„°í”„ë ˆì„ ì €ì¥


```python
bongdam_df = pd.DataFrame(items)
columns = ['floor','address1','rent','title','deposit','service_type']
bongdam_df = bongdam_df[columns]
bongdam_df.tail(3)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>floor</th>
      <th>address1</th>
      <th>rent</th>
      <th>title</th>
      <th>deposit</th>
      <th>service_type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>16</th>
      <td>3</td>
      <td>ê²½ê¸°ë„ í™”ì„±ì‹œ ë´‰ë‹´ì ë™í™”ë¦¬</td>
      <td>45</td>
      <td>ë™í™”ë¦¬ ì¼ì¡°ê¶Œ ì¢‹ê³  ì¡°ë§ê¶Œì¢‹ì€ í’€ì˜µì…˜ ì›ë£¸</td>
      <td>500</td>
      <td>ì›ë£¸</td>
    </tr>
    <tr>
      <th>17</th>
      <td>2</td>
      <td>ê²½ê¸°ë„ í™”ì„±ì‹œ ë´‰ë‹´ì ë™í™”ë¦¬</td>
      <td>55</td>
      <td>ì™¸ë¶€ í™˜ê²½ì´ ë³´ì´ëŠ” í™˜í•œ ì§‘</td>
      <td>1000</td>
      <td>ë¹Œë¼</td>
    </tr>
    <tr>
      <th>18</th>
      <td>2</td>
      <td>ê²½ê¸°ë„ í™”ì„±ì‹œ ë´‰ë‹´ì ìƒë¦¬</td>
      <td>0</td>
      <td>**ê±°ì‹¤ ë„“ì€ íˆ¬ë£¸ ì „ì„¸</td>
      <td>14000</td>
      <td>ë¹Œë¼</td>
    </tr>
  </tbody>
</table>
</div>




```python
zigbang2 = client.crawling.zingbang2
```


```python
items = bongdam_df.to_dict('records')
```


```python
items[0]
```




    {'floor': '4',
     'address1': 'ê²½ê¸°ë„ í™”ì„±ì‹œ ë´‰ë‹´ì ì™•ë¦¼ë¦¬',
     'rent': 0,
     'title': 'ğŸ†•ğŸ’Ÿì‹ ì¶•ğŸ’ŸğŸ†•ğŸ’Ÿë´‰ë‹´ ëˆˆë¶€ì‹  ì“°ë¦¬ë£¸ğŸ’ŸğŸ†•',
     'deposit': 16500,
     'service_type': 'ë¹Œë¼'}




```python
ids = zigbang2.insert(items)
```

* ë°ì´í„° find()


```python
results = zigbang2.find()
```


```python
QUERY = {'rent': {'$lte':30}}
results2 = zigbang2.find(QUERY)
pd.DataFrame(results2)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>_id</th>
      <th>address1</th>
      <th>deposit</th>
      <th>floor</th>
      <th>rent</th>
      <th>service_type</th>
      <th>title</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>5eeb12972391844470740ae3</td>
      <td>ê²½ê¸°ë„ í™”ì„±ì‹œ ë´‰ë‹´ì ì™•ë¦¼ë¦¬</td>
      <td>16500</td>
      <td>4</td>
      <td>0</td>
      <td>ë¹Œë¼</td>
      <td>ğŸ†•ğŸ’Ÿì‹ ì¶•ğŸ’ŸğŸ†•ğŸ’Ÿë´‰ë‹´ ëˆˆë¶€ì‹  ì“°ë¦¬ë£¸ğŸ’ŸğŸ†•</td>
    </tr>
    <tr>
      <th>1</th>
      <td>5eeb12972391844470740ae4</td>
      <td>ê²½ê¸°ë„ í™”ì„±ì‹œ ë´‰ë‹´ì ì™•ë¦¼ë¦¬</td>
      <td>15400</td>
      <td>4</td>
      <td>0</td>
      <td>ë¹Œë¼</td>
      <td>ğŸ†•ğŸ’Ÿë´‰ë‹´ğŸ’ŸğŸ†•ğŸ’Ÿì‹ ì¶• ì±„ê´‘ì§±ì§±!!ì¢‹ì•„ìœ ğŸ’ŸğŸ†•</td>
    </tr>
    <tr>
      <th>2</th>
      <td>5eeb12972391844470740ae9</td>
      <td>ê²½ê¸°ë„ í™”ì„±ì‹œ ë´‰ë‹´ì ìƒë¦¬</td>
      <td>12000</td>
      <td>3</td>
      <td>0</td>
      <td>ë¹Œë¼</td>
      <td>â—ë´‰ë‹´ìì‚¬ë¬´ì†Œì¸ê·¼  ê¹¨ë—í•œ 2ë£¸.</td>
    </tr>
    <tr>
      <th>3</th>
      <td>5eeb12972391844470740aee</td>
      <td>ê²½ê¸°ë„ í™”ì„±ì‹œ ë´‰ë‹´ì ìƒë¦¬</td>
      <td>17000</td>
      <td>2</td>
      <td>0</td>
      <td>ë¹Œë¼</td>
      <td>**ê±°ì‹¤ ë„“ì€ ì“°ë¦¬ë£¸ ì „ì„¸</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5eeb12972391844470740af2</td>
      <td>ê²½ê¸°ë„ í™”ì„±ì‹œ ë´‰ë‹´ì ë™í™”ë¦¬</td>
      <td>4000</td>
      <td>3</td>
      <td>0</td>
      <td>ì›ë£¸</td>
      <td>í¸ì•ˆí•˜ê³  í™˜í•œ ì›ë£¸</td>
    </tr>
    <tr>
      <th>5</th>
      <td>5eeb12972391844470740af5</td>
      <td>ê²½ê¸°ë„ í™”ì„±ì‹œ ë´‰ë‹´ì ìƒë¦¬</td>
      <td>14000</td>
      <td>2</td>
      <td>0</td>
      <td>ë¹Œë¼</td>
      <td>**ê±°ì‹¤ ë„“ì€ íˆ¬ë£¸ ì „ì„¸</td>
    </tr>
  </tbody>
</table>
</div>




```python
# ì»¬ë ‰ì…˜ ì‚­ì œ
client.crawling.drop_collection('zigbang')
```


```python
# ë°ì´í„°ë² ì´ìŠ¤ ì‚­ì œ
client.drop_database('crawling')
```


```python

```
